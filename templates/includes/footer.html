{% load static %}
{% block content %}

<div class="container mx-auto pt-8 z-10">
    <div class="relative w-full z-10">
        <div id="map-container" class="z-10"></div>
    </div>
</div>

<script>
    // Check if localStorage has the cached map content
    var cachedMap = localStorage.getItem('cachedMap');

    // If cachedMap exists, load it; otherwise, load the iframe
    if (cachedMap) {
        document.getElementById('map-container').innerHTML = cachedMap;
    } else {
        var iframe = document.createElement('iframe');
        iframe.setAttribute('src', 'https://www.google.com/maps/embed?pb=!1m23!1m12!1m3!1d126100.58418049998!2d38.68467988214758!3d9.004935639799978!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m8!3e6!4m0!4m5!1s0x164b857cc14b04a9%3A0xfb45db6a961037dc!2sDembel%20city%20center%2C%20ground%20floor%2C%20Chirkos%2020%2F21!3m2!1d9.005141499999999!2d38.7669707!5e0!3m2!1sen!2set!4v1727946251941!5m2!1sen!2set');
        iframe.setAttribute('width', '100%');
        iframe.setAttribute('height', '300');
        iframe.setAttribute('style', 'border:0;');
        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('loading', 'lazy');
        iframe.setAttribute('referrerpolicy', 'no-referrer-when-downgrade');

        // Append iframe to the map-container
        document.getElementById('map-container').appendChild(iframe);

        // Cache the iframe content in localStorage
        localStorage.setItem('cachedMap', iframe.outerHTML);
    }
</script>

<div class="w-full bg-slate-600 pt-4 md:pt-16 border-gray-100 items-center px-4 sm:px-8 md:px-16 lg:px-16 xl:px-32 2xl:px-64 2xl:max-w-9xl 2xl:mx-auto pb-6 md:pb-8">
    <div class="container">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="md:space-y-8  flex justify-center">
                <a href="{% url 'home' %}" class="brand-wrap">
                    {% if not footer.footer_company_logo.url %}
                    <p class="text-white">Please insert footer company logo</p>
                    {% else %}
                    <img class="md:w-64 h-64 md:h-32 object-cover overflow-hidden" src="{{footer.footer_company_logo.url}}" alt="logo" />
                    {% endif %}
                </a>
                {% comment %} <p class="text-base font-roboto text-white">{{footer.company_description}}</p> {% endcomment %}
            </div>
            <div class="space-y-4">
                {% comment %} <h3 class="text-lg font-bold text-red-300 tracking-wider uppercase font-playfair">Found Us</h3> {% endcomment %}
                <div class="mt-4 space-y-4">
                    <a href="mailto:{{footer.email}}" class="text-sm font-semibold md:text-lg hover:text-slate-400 block leading-relaxed text-white"><i class="fa fa-envelope text-white pr-2 md:pr-3" aria-hidden="true"></i>{{footer.email}}</a>
                    <a href="tel:{{footer.phone_number}}" class="text-sm font-semibold md:text-lg hover:text-slate-400 block  text-white "><i class="fa fa-phone text-white pr-2 md:pr-2" aria-hidden="true"></i>
                        {{footer.phone_number|slice:":2"}}-{{footer.phone_number|slice:"2:4"}}-{{footer.phone_number|slice:"4:6"}}-{{footer.phone_number|slice:"6:8"}}-{{footer.phone_number|slice:"8:"}}
                    </a>
                    <a href="#" class="text-sm font-semibold md:text-lg hover:text-slate-400 block text-white"><i class="fa fa-map-marker text-white pr-2 md:pr-3" aria-hidden="true"></i>
                        Addis Ababa,Ethiopia</a>
                </div>
            </div>
            <div class="space-y-4">
                <span class="text-lg md:text-xl font-medium text-white text-center font-playfair">Follow us</span>
                <div class="flex space-x-6">
                    <a href="#" class="hover:text-red-600 text-white">
                        <i class="fab fa-facebook-f text-2xl md:text-3xl"></i>
                    </a>
                    <a href="#" class="hover:text-red-600 text-white">
                        <i class="fab fa-tiktok text-2xl md:text-3xl"></i>
                    </a>
                    <a href="#/" class="hover:text-red-600 text-white">
                        <i class="fab fa-instagram text-2xl md:text-3xl"></i>
                    </a>
                    <a href="#" class="hover:text-red-600 text-white">
                        <i class="fab fa-telegram text-2xl md:text-3xl"></i>
                    </a>
                
                    <a href="#" class="hover:text-red-600 text-white">
                        <i class="fab fa-whatsapp text-3xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="bg-slate-700 mb-16 md:mb-0 px-4 md:px-16 lg:px-16 xl:px-48 w-full">
    <div class="py-4 md:py-4 w-full">
        <div class="container flex items-center justify-between">
            <a href="https://msigana.com" class="px-1 md:px-2 text-xs md:text-lg text-white">Design by <span class="text-blue-600">msigana.com</span></a>
            <div class="col-md-8 text-md-center">
                <p class="text-white text-xs md:text-lg">Copyright &copy; <span class="text-white " id="copyright-year"></span> <span class="pl-2">Rome Furniture</span></p>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById("copyright-year").innerHTML = new Date().getFullYear();
</script>

<style>
    .font-playfair {
        font-family: 'Playfair Display', serif;
    }
    .font-roboto {
        font-family: 'Roboto', sans-serif;
    }
    @media (max-width: 768px) {
        .text-sm {
            font-size: 1rem;
        }
        .text-base {
            font-size: 1.25rem;
        }
        .text-lg {
            font-size: 1.5rem;
        }
        .text-xl {
            font-size: 1.75rem;
        }
    }
</style>


{% endblock %}
